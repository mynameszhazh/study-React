# fiber

## 为什么需要 fiber

- 对于大型项目(组件树会很大), 这个时候渲染组件花费的时间会比较长
  - 这样就会一直占用一个项目主线程的资源, 如果需要进行一些其它操作的时候,就会比较卡顿
  - 一些操作的执行,优先级会更高
- 进行任务分解
  - 解决上面的问题
- 增量渲染(把渲染任务分成块, 均到每帧)
  - 通过浏览器的解析,等等
- 更新时,可以暂停,终止,复用渲染任务
- 并发方面新的基础能力
- 更流畅

## fiber (jsx 数据结构)
- child
  - 这个参数就是第一个子元素(根元素)
  - sibling
    - 注意这个是 child 里面的  sibling
    - 他是 这个child 元素的下一个 兄弟节点
- sibling
  - fiber 第一个兄弟元素
    - 也就是下一个兄弟元素
  - 放回的结构都是一样的
- return: 父fiber
  - 保留的是上一层的 数据咯 

## 实现 fiber

### window.requestIdleCallback(callback[,options])
- 在浏览器的空闲时段内调用的函数排队. 
- 原生的兼容性 不是很好